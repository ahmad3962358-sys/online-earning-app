<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Earn Pro - 2026 Edition</title>
    <style>
        :root { --p: #00f2ff; --s: #7000ff; --bg: #030712; --card: #111827; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; -webkit-tap-highlight-color: transparent; }
        
        body { background: var(--bg); color: #fff; min-height: 100vh; overflow-x: hidden; }
        .app { max-width: 500px; margin: 0 auto; padding: 20px; padding-bottom: 100px; }

        /* Animations */
        @keyframes glow { 0% { box-shadow: 0 0 5px var(--p); } 50% { box-shadow: 0 0 20px var(--p); } 100% { box-shadow: 0 0 5px var(--p); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .page { display: none; animation: fadeIn 0.5s ease-out; }
        .active { display: block; }

        /* Premium Cards */
        .card { 
            background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; 
            padding: 22px; margin-bottom: 20px;
        }

        .balance-card { 
            background: linear-gradient(135deg, var(--p), var(--s)); 
            border: none; position: relative; overflow: hidden;
            animation: glow 3s infinite;
        }

        /* Input & Buttons */
        input, select { 
            width: 100%; padding: 16px; border-radius: 14px; background: #1f2937; 
            border: 2px solid #374151; color: white; font-size: 16px; margin-bottom: 15px;
        }
        input:focus { border-color: var(--p); outline: none; }

        .btn-pro { 
            background: linear-gradient(135deg, #00f2ff, #7000ff); color: white; 
            border: none; padding: 18px; border-radius: 14px; font-weight: bold; 
            width: 100%; cursor: pointer; font-size: 16px; text-transform: uppercase;
            transition: 0.3s;
        }
        .btn-pro:active { transform: scale(0.96); }

        /* Navigation */
        .nav { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 450px; 
               background: rgba(17, 24, 39, 0.9); backdrop-filter: blur(10px); border-radius: 20px;
               display: flex; border: 1px solid #374151; padding: 12px; z-index: 1000; }
        .nav-item { flex: 1; text-align: center; color: #9ca3af; font-size: 12px; border: none; background: none; }
        .nav-item.active { color: var(--p); font-weight: bold; }

        /* Stage Grid */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .stage-box { background: var(--card); padding: 18px; border-radius: 18px; text-align: center; border: 1px solid #1f2937; cursor: pointer; transition: 0.2s; }
        .stage-box:active { background: #1f2937; }

        #ad-box { position: fixed; inset: 0; background: #000; z-index: 10000; display: none; flex-direction: column; align-items: center; justify-content: center; }
    </style>
</head>
<body>

<div id="ad-box">
    <h1 style="color:var(--p); font-size: 70px; font-weight: 800;" id="t-txt">30</h1>
    <p style="letter-spacing: 2px;">AD RUNNING... REWARD LOADING</p>
</div>

<div class="app">
    <div id="p-login" class="page active">
        <div style="text-align: center; margin: 60px 0;">
            <h1 style="font-size: 38px; font-weight: 800;">ELITE <span style="color:var(--p)">EARN</span></h1>
            <p style="color: #9ca3af;">High Performance Earning 2026</p>
        </div>
        <div class="card">
            <input type="email" id="u-email" placeholder="Enter Email">
            <input type="password" id="u-pass" placeholder="Enter Password">
            <button class="btn-pro" onclick="doLogin()">Unlock Dashboard</button>
            <p onclick="adminGate()" style="text-align:center; margin-top:35px; color:#4b5563; font-size:12px; font-weight: bold;">ADMIN PANEL</p>
        </div>
    </div>

    <div id="p-dash" class="page">
        <div class="card balance-card">
            <p style="font-size: 14px; opacity: 0.9;">Available Balance</p>
            <h1 style="font-size: 45px; margin: 5px 0;"><span id="c-txt">0</span> <small style="font-size:14px;">Coins</small></h1>
            <div style="display:flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                <span id="u-display-mail" style="font-size: 12px;">user@earn.com</span>
                <span style="background: rgba(0,0,0,0.3); padding: 4px 10px; border-radius: 10px; font-size: 12px;">Level <span id="s-txt">1</span></span>
            </div>
        </div>

        <div class="card" style="border: 1px dashed var(--p); background: rgba(0, 242, 255, 0.05);">
            <h3 style="color: var(--p); font-size: 16px;">Invite Friend & Earn 300</h3>
            <p style="font-size: 12px; color: #9ca3af; margin-bottom: 12px;">Share your link and get 300 coins instantly!</p>
            <div style="display:flex; gap: 8px;">
                <input type="text" id="ref-link" readonly style="margin:0; padding:10px; font-size:12px; background: #000;">
                <button onclick="copyInvite()" style="padding: 0 15px; border-radius: 12px; background: white; color: black; border: none; font-weight: bold;">COPY</button>
            </div>
        </div>

        <button class="btn-pro" onclick="triggerAd('WATCH')" style="margin-bottom: 25px;">üì∫ WATCH VIDEO AD (20 COINS)</button>

        <h3 style="margin-bottom: 15px; display: flex; justify-content: space-between;">Game Stages <small style="color:var(--p)">Reward: 15</small></h3>
        <div id="g-list" class="grid"></div>
    </div>

    <div id="p-withdraw" class="page">
        <h2 style="margin-bottom: 20px; color: var(--p);">Withdraw Earnings</h2>
        <div class="card">
            <p style="margin-bottom: 15px; font-size: 14px; color: #9ca3af;">Min: 5,000 Coins | Rs. 50</p>
            <select id="w-method">
                <option>EasyPaisa</option>
                <option>JazzCash</option>
                <option>Bank Account</option>
            </select>
            <input type="text" id="w-account" placeholder="Phone or Account Number">
            <input type="text" id="w-name" placeholder="Account Holder Name">
            <button class="btn-pro" onclick="handleWithdraw()">Request Payment</button>
        </div>
    </div>

    <div id="p-admin" class="page">
        <h2 class="gradient-text">Master Control</h2>
        <div class="card" style="margin-top:20px;">
            <p>Total Ad Views: <span id="adm-ads" style="color:var(--p); font-weight: bold;">0</span></p>
            <p>Withdraw Requests: <span style="color:var(--p); font-weight: bold;">Pending</span></p>
        </div>
        <button class="btn-pro" onclick="location.reload()" style="background: #ef4444;">DISCONNECT ADMIN</button>
    </div>
</div>

<nav id="navbar" class="nav" style="display: none;">
    <button class="nav-item active" onclick="nav('p-dash', this)">üè†<br>Home</button>
    <button class="nav-item" onclick="nav('p-withdraw', this)">üí∞<br>Withdraw</button>
    <button class="nav-item" onclick="triggerAd('WATCH')">üì∫<br>Ads</button>
    <button class="nav-item" onclick="adminGate()">‚öôÔ∏è<br>Admin</button>
</nav>

<script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbx3DloEzK8AKyjglngwD7MtaPTCoVkiE7Fy8M9ykBwE7xUHA47HG-1tZG-gQI35QZx-/exec";
    const AD_LINK = "https://pl28697715.effectivegatecpm.com/8a/28/a1/8a28a1c48b72a44d2b5cc6638892ef7d.js";
    
    let db = JSON.parse(localStorage.getItem('elite_v5')) || { email: '', coins: 0, stage: 1, ads: 0 };

    if(db.email) { startApp(); }

    function doLogin() {
        const mail = document.getElementById('u-email').value;
        if(!mail.includes('@')) return alert("Please enter a valid email!");
        db.email = mail;
        save();
        startApp();
        sync('Login');
        window.open(AD_LINK, '_blank');
    }

    function startApp() {
        nav('p-dash');
        document.getElementById('navbar').style.display = 'flex';
        document.getElementById('u-display-mail').innerText = db.email;
        document.getElementById('ref-link').value = window.location.origin + "/?ref=" + btoa(db.email).substring(0,8);
        updateUI();
    }

    function triggerAd(type) {
        document.getElementById('ad-box').style.display = 'flex';
        window.open(AD_LINK, '_blank');
        let time = 30;
        const clock = setInterval(() => {
            time--;
            document.getElementById('t-txt').innerText = time;
            if(time <= 0) {
                clearInterval(clock);
                document.getElementById('ad-box').style.display = 'none';
                document.getElementById('t-txt').innerText = "30";
                
                if(type === 'WATCH') db.coins += 20;
                if(type === 'GAME') { db.coins += 15; db.stage++; } // Updated to 15
                db.ads++;
                
                save();
                updateUI();
                sync('Reward - ' + type);
                alert("üéâ Reward Added Successfully!");
            }
        }, 1000);
    }

    function handleWithdraw() {
        if(db.coins < 5000) return alert("You need at least 5,000 coins!");
        const acc = document.getElementById('w-account').value;
        const name = document.getElementById('w-name').value;
        if(!acc || !name) return alert("Please enter account details!");
        
        sync('Withdraw - ' + document.getElementById('w-method').value);
        db.coins -= 5000;
        save();
        updateUI();
        alert("‚úÖ Withdrawal Request Submitted!");
    }

    function updateUI() {
        document.getElementById('c-txt').innerText = db.coins.toLocaleString();
        document.getElementById('s-txt').innerText = db.stage;
        const list = document.getElementById('g-list');
        list.innerHTML = '';
        for(let i=1; i<=40; i++) {
            const item = document.createElement('div');
            item.className = 'stage-box';
            item.style.opacity = i <= db.stage ? '1' : '0.3';
            item.innerHTML = `<div style="font-size:11px; color:#9ca3af;">STAGE</div><div style="font-weight:bold; font-size:18px;">${i}</div>`;
            item.onclick = () => { if(i <= db.stage) triggerAd('GAME'); else alert("Complete previous stage!"); };
            list.appendChild(item);
        }
    }

    function copyInvite() {
        const link = document.getElementById('ref-link');
        link.select();
        document.execCommand('copy');
        alert("Invite link copied to clipboard! (300 Coins Bonus)");
    }

    function adminGate() {
        if(prompt("Enter Admin Secret Key:") === "Ahmad@786") {
            nav('p-admin');
            document.getElementById('adm-ads').innerText = db.ads;
        }
    }

    function nav(id, btn) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        if(btn) {
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
    }

    function save() { localStorage.setItem('elite_v5', JSON.stringify(db)); }
    function sync(act) { fetch(SCRIPT_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify({ act, email: db.email, coins: db.coins, ads: db.ads, date: new Date().toLocaleString() }) }); }
</script>
</body>
</html>
